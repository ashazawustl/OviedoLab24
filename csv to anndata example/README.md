# Working example to create [MapMyCells](https://portal.brain-map.org/atlases-and-data/bkp/mapmycells) compatible .h5ad file

## Usage example
1. On Windows, run the `venv-terminal.bat` to create a virtual Python environment and activate the venv shell. Alternatively, run these following commands:

```sh
# Create a virtual environment named venv
python -m venv venv

# Activate the environment shell:
# On Windows:
venv/Scripts/activate

# On Linux/Mac
source ./venv/bin/activate
```

2. From the virtual environment shell, run the `CxG_CSV_to_AnnData.py` script:
```sh
python CxG_CSV_to_AnnData.py
```

3. Input the path to the `cell_by_gene.csv` generated by MERSCOPE as prompted. The path, if have spaces, need to be enclosed in quotation marks `"`.

 - For example:
```
"C:/User/Desktop/cell_by_gene.csv"
```

4. The output file is a compressed `.h5ad` file in this (where the `CxG_CSV_to_AnnData.py` file is) directory. The `.h5ad` file can be directly uploaded to [MapMyCells](https://portal.brain-map.org/atlases-and-data/bkp/mapmycells) for cell type clustering.